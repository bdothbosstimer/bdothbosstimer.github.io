<html>
<head>
<meta charset="UTF-8">

<!-- Primary Meta Tags -->
<title>[BDO-TH] เวลาปรากฏตัวของบอสโลก - World Boss Timer</title>
<meta name="title" content="[BDO-TH] เวลาปรากฏตัวของบอสโลก - World Boss Timer">
<meta name="description" content="ตารางเวลาและการแจ้งเตือนบอสโลก github: https://github.com/bdothbosstimer/">

<!-- Open Graph / Facebook -->
<meta property="og:type" content="website">
<meta property="og:url" content="https://bdothbosstimer.github.io/">
<meta property="og:title" content="[BDO-TH] เวลาปรากฏตัวของบอสโลก - World Boss Timer">
<meta property="og:description" content="ตารางเวลาและการแจ้งเตือนบอสโลก github: https://github.com/bdothbosstimer/">
<meta property="og:image" content="https://bdothbosstimer.github.io/imgs/bosstable.jpg">

<!-- Twitter -->
<meta property="twitter:card" content="summary_large_image">
<meta property="twitter:url" content="https://bdothbosstimer.github.io/">
<meta property="twitter:title" content="[BDO-TH] เวลาปรากฏตัวของบอสโลก - World Boss Timer">
<meta property="twitter:description" content="ตารางเวลาและการแจ้งเตือนบอสโลก  github: https://github.com/bdothbosstimer/">
<meta property="twitter:image" content="https://bdothbosstimer.github.io/imgs/bosstable.jpg">

<link rel="apple-touch-icon" sizes="180x180" href="imgs/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="imgs/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="imgs/favicon-16x16.png">
<link rel="manifest" href="imgs/site.webmanifest">

</head>
<style>
	h1 {
		font-size: 100px;
		color: #FFFFFF;
		display: flex;
		justify-content: center;
		margin: 0;
	}
	h2 {
		font-size: 35px;
		color: #FFFFFF;
		display: flex;
		justify-content: center;
		margin: 0;
	}
	h3 {
		font-size: 25px;
		color: #FFFFFF;
		display: flex;
		justify-content: center;
		margin: 0;
	}
	h4 {
		font-size: 15px;
		color: #FFFFFF;
		display: flex;
		justify-content: center;
		margin: 0;
	}
	a:link {
	  text-decoration: none;
	}

	a:visited {
	  text-decoration: none;
	}

	a:hover {
	  text-decoration: underline;
	}

	a:active {
	  text-decoration: underline;
	}
</style>
<body bgcolor="#181A1B">
<table style="margin-left: auto; margin-right: auto;" width="1250">
<tbody>
<tr>
<td valign="bottom" align="center"><img src="imgs/blank.png" id="previousBoss0" width="64" height="64" /></td>
<td valign="bottom" align="center"><img src="imgs/blank.png" id="previousBoss1" width="64" height="64" /></td>
<td valign="bottom" align="center"><img src="imgs/blank.png" id="currentBoss0" width="360" height="360"/></td>
<td valign="bottom" align="center"><img src="imgs/blank.png" id="currentBoss1" width="360" height="360"/></td>
<td valign="bottom" align="center"><img src="imgs/blank.png" id="nextBoss0" width="64" height="64" /></td>
<td valign="bottom" align="center"><img src="imgs/blank.png" id="nextBoss1" width="64" height="64" /></td>
</tr>
<tr>
<td id="previousBossName0" width="12.5%" valign="middle" align="center">&nbsp;</td>
<td id="previousBossName1" width="12.5%" valign="middle" align="center">&nbsp;</td>
<td id="currentBossName0" width="25%" valign="middle" align="center">&nbsp;</td>
<td id="currentBossName1" width="25%" valign="middle" align="center">&nbsp;</td>
<td id="nextBossName0" width="12.5%" valign="middle" align="center">&nbsp;</td>
<td id="nextBossName1" width="12.5%" valign="middle" align="center">&nbsp;</td>
</tr>
<tr>
<td colspan="2" id="previousTimer" valign="top" align="center"></td>
<td colspan="2" id="currentTimer" valign="top" align="center"></td>
<td colspan="2" id="nextTimer" valign="top" align="center"></td>
</tr>
<tr>
<td colspan="3" id="ingame" valign="top" align="left" style="color: #ffffff;"></td>
<td colspan="3" id="imperial" valign="top" align="right" style="color: #ffffff;"></td>
</tr>
<tr>
<td colspan="3" id="daynight" valign="top" align="left" style="color: #ffffff;"></td>
<td colspan="3" id="daily" valign="top" align="right" style="color: #ffffff;"></td>
</tr>
<tr>
<td colspan="3" id="blackspirit" valign="top" align="left" style="color: #ffffff;"></td>
<td colspan="3" id="bartering" valign="top" align="right" style="color: #ffffff;"></td>
</tr>
</tbody>
</table>
</body>

<table style="border-collapse: collapse; margin-left: auto; margin-right: auto;" border="1" width="1250">
<tbody>
<tr>
<td style="width: 11.1111%; height: 18px;">
<h3 style="text-align: center; vertical-align: middle; vertical-align: middle;"><span style="color: #ffffff;"><strong>เวลา</strong></span></h3>
</td>
<td style="width: 11.1111%; height: 18px;">
<h3 style="text-align: center; vertical-align: middle;"><span style="color: #ffffff;"><strong>00:30</strong></span></h3>
</td>
<td style="width: 11.1111%; height: 18px;">
<h3 style="text-align: center; vertical-align: middle;"><span style="color: #ffffff;"><strong>06:00</strong></span></h3>
</td>
<td style="width: 11.1111%; height: 18px;">
<h3 style="text-align: center; vertical-align: middle;"><span style="color: #ffffff;"><strong>10:00</strong></span></h3>
</td>
<td style="width: 11.1111%; height: 18px;">
<h3 style="text-align: center; vertical-align: middle;"><span style="color: #ffffff;"><strong>14:00</strong></span></h3>
</td>
<td style="width: 11.1111%; height: 18px;">
<h3 style="text-align: center; vertical-align: middle;"><span style="color: #ffffff;"><strong>15:00</strong></span></h3>
</td>
<td style="width: 11.1111%; height: 18px;">
<h3 style="text-align: center; vertical-align: middle;"><span style="color: #ffffff;"><strong>19:00</strong></span></h3>
</td>
<td style="width: 11.1111%; height: 18px;">
<h3 style="text-align: center; vertical-align: middle;"><span style="color: #ffffff;"><strong>20:00</strong></span></h3>
</td>
<td style="width: 11.1111%; height: 18px;">
<h3 style="text-align: center; vertical-align: middle;"><span style="color: #ffffff;"><strong>23:00</strong></span></h3>
</td>
</tr>
<tr style="height: 10px; text-align: center; vertical-align: middle;">
<td style="width: 11.1111%; height: 10px;">
<h3 style="text-align: center; vertical-align: middle;"><span style="color: #ffffff;"><strong>อาทิตย์</strong></span></h3>
</td>
<td style="width: 11.1111%; height: 10px;"><span style="color: #ffffff;">คจาคาร์</span></td>
<td style="width: 11.1111%; height: 10px;">&nbsp;</td>
<td style="width: 11.1111%; height: 10px;">
<p><span style="color: #ffffff;">นูเวอร์</span></p>
<p><span style="color: #ffffff;">คารานด้า</span></p>
</td>
<td style="width: 11.1111%; height: 10px;">
<p><span style="color: #ffffff;">คูทุม</span></p>
<p><span style="color: #ffffff;">คารานด้า</span></p>
</td>
<td style="width: 11.1111%; height: 10px;">
<p><span style="color: #ffffff;">เบลล์</span></p>
</td>
<td style="height: 10px; width: 11.1111%;">
<p><span style="color: #ffffff;">คจาคาร์</span></p>
<p><span style="color: #ffffff;">คารานด้า</span></p>
</td>
<td style="width: 11.1111%; height: 160px;" rowspan="6">
<p><span style="color: #ffffff;">สงคราม</span></p>
<p><span style="color: #ffffff;">ฐาน</span></p>
</td>
<td style="width: 11.1111%; height: 10px;">
<p><span style="color: #ffffff;">คูทุม</span></p>
<p><span style="color: #ffffff;">นูเวอร์</span></p>
</td>
</tr>
<tr style="text-align: center; vertical-align: middle;">
<td style="width: 11.1111%; height: 78px;">
<h3><span style="color: #ffffff;"><strong>จันทร์</strong></span></h3>
</td>
<td style="width: 11.1111%; height: 78px;"><span style="color: #ffffff;">คูทุม</span></td>
<td style="width: 11.1111%; height: 78px;">&nbsp;</td>
<td style="width: 11.1111%; height: 78px;">
<p><span style="color: #ffffff;">คจาคาร์</span></p>
<p><span style="color: #ffffff;">นูเวอร์</span></p>
</td>
<td style="width: 11.1111%; height: 78px;">
<p><span style="color: #ffffff;">คูทุม</span></p>
<p><span style="color: #ffffff;">นูเวอร์</span></p>
</td>
<td style="width: 11.1111%; height: 78px;">
<p>&nbsp;</p>
</td>
<td style="width: 11.1111%; height: 78px;">
<p><span style="color: #ffffff;">คจาจาร์</span></p>
<p><span style="color: #ffffff;">คารานด้า</span></p>
</td>
<td style="width: 11.1111%; height: 78px;"><span style="color: #ffffff;">โอฟิน</span></td>
</tr>
<tr style="text-align: center; vertical-align: middle;">
<td style="width: 11.1111%; height: 18px;">
<h3><span style="color: #ffffff;"><strong>อังคาร</strong></span></h3>
</td>
<td style="width: 11.1111%; height: 18px;"><span style="color: #ffffff;">นูเวอร์</span></td>
<td style="width: 11.1111%; height: 18px;">&nbsp;</td>
<td style="width: 11.1111%; height: 18px;">
<p><span style="color: #ffffff;">คูทุม</span></p>
<p><span style="color: #ffffff;">คารานด้า</span></p>
</td>
<td style="width: 11.1111%; height: 18px;">
<p><span style="color: #ffffff;">คูทุม</span></p>
<p><span style="color: #ffffff;">คจาคาร์</span></p>
</td>
<td style="width: 11.1111%; height: 18px;">&nbsp;</td>
<td style="width: 11.1111%; height: 18px;">
<p><span style="color: #ffffff;">มูลัคคา</span></p>
<p><span style="color: #ffffff;">กวินท์</span></p>
</td>
<td style="width: 11.1111%; height: 18px;"><span style="color: #ffffff;">กามอส</span></td>
</tr>
<tr style="text-align: center; vertical-align: middle;">
<td style="width: 11.1111%; height: 18px;">
<h3><span style="color: #ffffff;"><strong>พุธ</strong></span></h3>
</td>
<td style="width: 11.1111%; height: 18px;">
<p><span style="color: #ffffff;">คจาคาร์</span></p>
<p><span style="color: #ffffff;">โอฟิน</span></p>
</td>
<td style="width: 11.1111%; height: 18px;">&nbsp;</td>
<td style="width: 11.1111%; height: 18px;">
<p><span style="color: #ffffff;">คูทุม</span></p>
<p><span style="color: #ffffff;">นูเวอร์</span></p>
</td>
<td style="width: 11.1111%; height: 18px;">
<p><span style="color: #ffffff;">คารานด้า</span></p>
<p><span style="color: #ffffff;">คจาคาร์</span></p>
</td>
<td style="width: 11.1111%; height: 18px;">&nbsp;</td>
<td style="width: 11.1111%; height: 18px;">
<p><span style="color: #ffffff;">คูทุม</span></p>
<p><span style="color: #ffffff;">นูเวอร์</span></p>
</td>
<td style="width: 11.1111%; height: 18px;"><span style="color: #ffffff;">เบลล์</span></td>
</tr>
<tr style="text-align: center; vertical-align: middle;">
<td style="width: 11.1111%; height: 18px;">
<h3><span style="color: #ffffff;"><strong>พฤหัส</strong></span></h3>
</td>
<td style="width: 11.1111%; height: 18px;"><span style="color: #ffffff;">คูทุม</span></td>
<td style="width: 11.1111%; height: 18px;">&nbsp;</td>
<td style="width: 11.1111%; height: 18px;">
<p><span style="color: #ffffff;">คารานด้า</span></p>
<p><span style="color: #ffffff;">คจาคาร์</span></p>
</td>
<td style="width: 11.1111%; height: 18px;">
<p><span style="color: #ffffff;">คูทุม</span></p>
<p><span style="color: #ffffff;">นูเวอร์</span></p>
</td>
<td style="width: 11.1111%; height: 18px;">&nbsp;</td>
<td style="width: 11.1111%; height: 18px;">
<p><span style="color: #ffffff;">นูเวอร์</span></p>
<p><span style="color: #ffffff;">คารานด้า</span></p>
</td>
<td style="width: 11.1111%; height: 18px;"><span style="color: #ffffff;">กามอส</span></td>
</tr>
<tr style="text-align: center; vertical-align: middle;">
<td style="width: 11.1111%; height: 18px;">
<h3><span style="color: #ffffff;"><strong>ศุกร์</strong></span></h3>
</td>
<td style="width: 11.1111%; height: 18px;"><span style="color: #ffffff;">นูเวอร์</span></td>
<td style="width: 11.1111%; height: 18px;">&nbsp;</td>
<td style="width: 11.1111%; height: 18px;">
<p><span style="color: #ffffff;">คูทุม</span></p>
<p><span style="color: #ffffff;">คจาคาร์</span></p>
</td>
<td style="width: 11.1111%; height: 18px;">
<p><span style="color: #ffffff;">คารานด้า</span></p>
<p><span style="color: #ffffff;">คจาคาร์</span></p>
</td>
<td style="width: 11.1111%; height: 18px;">&nbsp;</td>
<td style="width: 11.1111%; height: 18px;">
<p><span style="color: #ffffff;">คูทุม</span></p>
<p><span style="color: #ffffff;">นูเวอร์</span></p>
</td>
<td style="width: 11.1111%; height: 18px;"><span style="color: #ffffff;">โอฟิน</span></td>
</tr>
<tr>
<td style="width: 11.1111%; height: 18px; text-align: center; vertical-align: middle;">
<h3><span style="color: #ffffff;"><strong>เสาร์</strong></span></h3>
</td>
<td style="width: 11.1111%; height: 18px; text-align: center; vertical-align: middle;"><span style="color: #ffffff;">คารานด้า</span></td>
<td style="width: 11.1111%; height: 18px; text-align: center; vertical-align: middle;">&nbsp;</td>
<td style="width: 11.1111%; height: 18px; text-align: center; vertical-align: middle;">
<p><span style="color: #ffffff;">คูทุม</span></p>
<p><span style="color: #ffffff;">คจาคาร์</span></p>
</td>
<td style="width: 11.1111%; height: 18px; text-align: center; vertical-align: middle;">
<p><span style="color: #ffffff;">คารานด้า</span></p>
<p><span style="color: #ffffff;">นูเวอร์</span></p>
</td>
<td style="width: 11.1111%; height: 18px; text-align: center; vertical-align: middle;"><span style="color: #ffffff;">กามอส</span></td>
<td style="width: 11.1111%; height: 18px;">
<p style="text-align: center; vertical-align: middle;"><span style="color: #ffffff;">มูลัคคา</span></p>
<p style="text-align: center; vertical-align: middle;"><span style="color: #ffffff;">กวินท์&nbsp;</span></p>
</td>
<td style="width: 22.2222%; height: 18px;" colspan="2">
<p style="text-align: center; vertical-align: middle;"><span style="color: #ffffff;">สงคราม</span></p>
<p style="text-align: center; vertical-align: middle;"><span style="color: #ffffff;">ปราสาท</span></p>
</td>
</tr>
</tbody>
</table>
<span style="color: #ffffff;" id="TEST"></span>
<p><center><strong><a href="https://github.com/bdothbosstimer/" target="_blank"><font color="#ffffff">By Fam丶Fan丶Fan</color></strong><br><img src="imgs/github.png"/></a></center></p>


<script src="js/boss.js"></script>
<script>
	function formatSeconds(n) {
		var date = new Date(1970, 0, 1);
		date.setSeconds(n);
		return date.toTimeString().replace(/.*(\d{2}:\d{2}:\d{2}).*/, "$1");
	}
	
	function playSound(p) {
		audio = new Audio(p);
		//audio.volume = 50/100 >> 0;
		audio.volume = 1;
		audio.play();
	}
	
	function playAlert(dateDiff, alertType) {
		switch(dateDiff) {
			case 1800:
				switch(alertType) {
					case "world-boss": playSound('audio/30minboss.mp3'); break;
					case "war-node": playSound('audio/30minnode.mp3'); break;
					case "war-castle": playSound('audio/30mincastle.mp3'); break;
				}
				break;
			case 900:
				switch(alertType) {
					case "world-boss": playSound('audio/15minboss.mp3'); break;
					case "war-node": playSound('audio/15minnode.mp3'); break;
					case "war-castle": playSound('audio/15mincastle.mp3'); break;
				}
				break;
			case 600:
				switch(alertType) {
					case "world-boss": playSound('audio/10minboss.mp3'); break;
					case "war-node": playSound('audio/10minnode.mp3'); break;
					case "war-castle": playSound('audio/10mincastle.mp3'); break;
				}
				break;
			case 300:
				switch(alertType) {
					case "world-boss": playSound('audio/5minboss.mp3'); break;
					case "war-node": playSound('audio/5minnode.mp3'); break;
					case "war-castle": playSound('audio/5mincastle.mp3'); break;
				}
				break;
			case 0:
				switch(alertType) {
					case "world-boss": playSound('audio/bossappear.mp3'); break;
					case "war-node": playSound('audio/nodewar.mp3'); break;
					case "war-castle": playSound('audio/castlewar.mp3'); break;
				}
				break;
		}
	}
	
	function getNightTime(secondsToAdd) {
		var t = new Date();
			t.setSeconds(t.getSeconds() + secondsToAdd);
		var hours   = t.getHours();
		var amPm    = (hours >= 12) ? "PM" : "AM";
			hours       = (hours > 12) ? hours - 12 : hours;
			hours       = (hours === 0) ? 12 : hours;
			hours		= (hours < 10) ? "0" + hours : hours;
		var minutes = t.getMinutes();
			minutes     = (minutes < 10) ? "0" + minutes : minutes;
			return hours + ":" + minutes + " " + amPm;
		}

	var listTime, listSize, imperialSize, weekDay_tmp, bossPosition, imperialPosition;
	setInterval(function() {
		let date = new Date(), weekDay = date.getDay();
		let dateStr = `${date.getFullYear()}/${(date.getMonth()+1)}/${date.getDate()}`;
		let previousBoss = [], nextBoss = [], alertType, dateDiff, n, m, w, tmp;

		//setup
		if (weekDay !== weekDay_tmp) {
			//list build *need to know boss position for previous and next
			//listSize -5 (start at 0 to (listSize-5))
			
			listTime = [];
			
			for(let b in bossTable[weekDay]) {
				if (bossTable[weekDay][b].length > 0) {
					listTime.push(b);
				}
			}
			
			//listSize -3 -4
			n = 0;
			w = weekDay+1;
			if (w > 6) {w = 0;} //if week day is (6)Sat next day is (0)Sun
			for(let b in bossTable[w]) {
				if (bossTable[w][b].length > 0) {
					listTime.push(b);
					if (n >= 1) { break; }
					n++;
				}
			}
			
			//position listSize -2
			tmp = Object.keys(bossTable[weekDay]);
			for (let k = (tmp.length-1); k >= 0; k--) {
				if (bossTable[weekDay][tmp[k]].length > 0) {
					listTime.push(tmp[k]);
					break;
				}
			}

			//position listSize -1
			w = weekDay-1;
			if (w < 0) {w = 6;} //if week day is (0)Sun previous day is (6)Sat
			tmp = Object.keys(bossTable[w]);
			for (let k = (tmp.length-1); k >= 0; k--) {
				if (bossTable[w][tmp[k]].length > 0) {
					listTime.push(tmp[k]);
					break;
				}
			}
			//console.log(listTime)
			
			imperialSize = imperialTable.length;
			listSize = listTime.length;
			weekDay_tmp = weekDay;
			bossPosition = 0;
			imperialPosition = 0;
		}
		
		//current boss will spawn
		n = 0;
		for(let i = bossPosition; i <= (listSize-5); i++) {
			dateDiff = new Date(`${dateStr} ${listTime[i]}`);
			dateDiff = Math.round((dateDiff.getTime() - date.getTime()) / 1000);
			if (dateDiff >= 0) {
				for(let b in bossTable[weekDay][listTime[i]]) {
					document.getElementById(`currentBoss${n}`).src= bossTable[weekDay][listTime[i]][b]["img"];
					document.getElementById(`currentBossName${n}`).innerHTML= `<h3>${bossTable[weekDay][listTime[i]][b]["name"]}`;
					alertType = bossTable[weekDay][listTime[i]][b]["type"];
					//bossTable[weekDay][listTime[i]][b]["img"]
					//bossTable[weekDay][listTime[i]][b]["name"]
					//bossTable[weekDay][listTime[i]][b]["type"]
					n++;
				}
				if (n == 1) {
					document.getElementById(`currentBoss${n}`).src= `imgs/blank.png`;
					document.getElementById(`currentBossName${n}`).innerHTML= "";
				}

				if (i == 0) {
					m = weekDay-1; //fix (0)Sat and (6) Sun
					if (m < 0) {m = 6;}
					previousBoss[0] = listTime[listSize-1];
					previousBoss[1] = bossTable[m][listTime[listSize-1]];
				} else {
					previousBoss[0] = listTime[i-1];
					previousBoss[1] = bossTable[weekDay][listTime[i-1]];
				}
				if (i == (listSize-5)) {
					m = weekDay+1; //fix (0)Sat and (6) Sun
					if (m > 6) {m = 0;}
					nextBoss[0] = listTime[listSize-4];
					nextBoss[1] = bossTable[m][listTime[listSize-4]];
				} else {
					nextBoss[0] = listTime[i+1];
					nextBoss[1] = bossTable[weekDay][listTime[i+1]];
					//i = bossPosition
				}

				//countdown update
				document.getElementById(`currentTimer`).innerHTML = `<h1>${formatSeconds(dateDiff)}`;
				//playAlert(dateDiff, alertType);
				
				//key for table highlight "weekDay listTime[i]" ex table id = 4-20:00:00
				
				break;
			} else {
				//update to next position *no need full loop
				bossPosition++;
			}
		}
		
		//Fix next day boss (current boss spawn)
		if (bossPosition > (listSize-5)) {
			n = 0;
			w = weekDay+1; 
			if (w > 6) {w = 0;}  //if week day is (6)Sat next day is (0)Sun
			dateDiff = new Date(`${dateStr} ${listTime[listSize-4]}`);
			dateDiff = Math.round((dateDiff.getTime() - date.getTime()) / 1000);
			for(let b in bossTable[w][listTime[listSize-4]]) {
				document.getElementById(`currentBoss${n}`).src= bossTable[w][listTime[listSize-4]][b]["img"];
				document.getElementById(`currentBossName${n}`).innerHTML= `<h3>${bossTable[w][listTime[listSize-4]][b]["name"]}`;
				alertType = bossTable[w][listTime[listSize-4]][b]["type"];
				//bossTable[w][listTime[listSize-3]][b]["img"]
				//bossTable[w][listTime[listSize-3]][b]["name"]
				//bossTable[w][listTime[listSize-3]][b]["type"]
				n++;
			}
			if (n == 1) {
				document.getElementById(`currentBoss${n}`).src= `imgs/blank.png`;
				document.getElementById(`currentBossName${n}`).innerHTML= "";
			}
			m = w-1; //fix (0)Sat and (6) Sun
			if (m < 0) {m = 6;}
			previousBoss[0] = listTime[listSize-2];
			previousBoss[1] = bossTable[m][listTime[listSize-2]];
			nextBoss[0] = listTime[listSize-3];
			nextBoss[1] = bossTable[w][listTime[listSize-3]];

			//countdown update
			document.getElementById(`currentTimer`).innerHTML = `<h1>${formatSeconds(dateDiff)}`;
			//playAlert(dateDiff, alertType);
			
			//key for table highlight "w listTime[listSize-3]" ex table id = 4-20:00:00
		}

		//next boss or followed boss
		n = 0;
		dateDiff = new Date(`${dateStr} ${nextBoss[0]}`);
		dateDiff = Math.round((dateDiff.getTime() - date.getTime()) / 1000);
		for(let b in nextBoss[1]) {
			document.getElementById(`nextBoss${n}`).src= nextBoss[1][b]["img"];
			document.getElementById(`nextBossName${n}`).innerHTML= `<h4>${nextBoss[1][b]["name"]}`;
			//nextBoss[1][b]["img"]
			//nextBoss[1][b]["name"]
			//nextBoss[1][b]["type"]
			n++;
		}
		if (n == 1) {
			document.getElementById(`nextBoss${n}`).src= `imgs/blank.png`;
			document.getElementById(`nextBossName${n}`).innerHTML= "";
		}
			
		//countdown update
		document.getElementById(`nextTimer`).innerHTML = `<h2>${formatSeconds(dateDiff)}`;
		
		//previous boss
		n = 0;
		dateDiff = new Date(`${dateStr} ${previousBoss[0]}`);
		dateDiff = Math.round((date.getTime() - dateDiff.getTime()) / 1000);
		for(let b in previousBoss[1]) {
			document.getElementById(`previousBoss${n}`).src= previousBoss[1][b]["img"];
			document.getElementById(`previousBossName${n}`).innerHTML= `<h4>${previousBoss[1][b]["name"]}`;
			//previousBoss[1][b]["img"]
			//previousBoss[1][b]["name"]
			//previousBoss[1][b]["type"]
			n++;
		}
		if (n == 1) {
			document.getElementById(`previousBoss${n}`).src= `imgs/blank.png`;
			document.getElementById(`previousBossName${n}`).innerHTML= "";
		}
		
		//countup update *previous
		document.getElementById(`previousTimer`).innerHTML = `<h2>${formatSeconds(dateDiff)}`;
		
		//code from http://bdocalc.com/
		var startHour = Date.UTC(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate(), 0, 0, 0, 0);
		var rlDayElapsedS = (Date.now() - startHour) / 1000, dayNight = false;
		var secsIntoGameDay = (rlDayElapsedS + 200 * 60 + 20 * 60) % (240 * 60);

		//1 day = 14400 sec
		if (secsIntoGameDay >= 12000) {
			var secsIntoGameNight = secsIntoGameDay - 12000;
			var pctOfNightDone = secsIntoGameNight / (40 * 60);
			var secsUntilNightEnd = 40 * 60 - secsIntoGameNight;
			var gameHour = 9 * pctOfNightDone;
			gameHour = gameHour < 2 ? 22 + gameHour : gameHour - 2;
			dayNight = true;
		} else {
			var secsIntoGameDaytime = secsIntoGameDay;
			var pctOfDayDone = secsIntoGameDay / (200 * 60);
			var secsUntilNightStart = 12000 - secsIntoGameDaytime;
			var gameHour = 7 + (22 - 7) * pctOfDayDone;
			dayNight = false;
		}
		
		var finalGameHour = gameHour / 1 >> 0;
		var finalGameMinute = gameHour % 1 * 60 >> 0;
		var finalGameSec = secsIntoGameDay % 60 >> 0;
		var afternoon = (finalGameHour >= 12);

		if (afternoon && finalGameHour > 12) {
			finalGameHour -= 12;
		} else if (finalGameHour === 0) {
			finalGameHour = 12;
		}

		var timeString = `Ingame Time: ${(finalGameHour < 10) ? `0${finalGameHour}` : finalGameHour}:${(finalGameMinute < 10) ? `0${finalGameMinute}` : finalGameMinute}:${(finalGameSec < 10) ? `0${finalGameSec}` : finalGameSec} ${afternoon ? "PM" : "AM"}`;
		var dayNighttime = (dayNight ? secsUntilNightEnd : secsUntilNightStart) >> 0;
		var dayNightString = `${dayNight ? `☼ Day in: ` : `☾ Night in: `} ${formatSeconds(dayNighttime)}`;
		
		dateDiff = new Date(`${dateStr} 00:00:00`);
		dateDiff = Math.round((dateDiff.getTime() - date.getTime()) / 1000);
		var dailyString = `❀ Daily in: ${formatSeconds(dateDiff)}`;
		
		dateDiff = new Date(`${dateStr} 06:00:00`);
		dateDiff = Math.round((dateDiff.getTime() - date.getTime()) / 1000);
		var barteringString = `⚓︎ Bartering in: ${formatSeconds(dateDiff)}`;

		dateDiff = new Date(`${dateStr} 05:00:00`);
		dateDiff = Math.round((dateDiff.getTime() - date.getTime()) / 1000);
		var blackspiritString = `${['⚀', '⚁', '⚂', '⚃', '⚄', '⚅'][Math.floor(Math.random() * 6)]} Black Spirit's Adventure: ${formatSeconds(dateDiff)}`;

		for(let i = imperialPosition; i <= imperialSize; i++) {
			dateDiff = new Date(`${dateStr} ${imperialTable[i]}`);
			dateDiff = Math.round((dateDiff.getTime() - date.getTime()) / 1000);
			if (dateDiff >= 0) {
				document.getElementById(`imperial`).innerHTML= `♕ Imperial in: ${formatSeconds(dateDiff)}`;
				break;
			} else {
				imperialPosition++;
			}
		}
		if (imperialPosition > imperialSize) {
			dateDiff = new Date(`${dateStr} ${imperialTable[0]}`);
			dateDiff = Math.round((dateDiff.getTime() - date.getTime()) / 1000);
			document.getElementById(`imperial`).innerHTML= `♕ Imperial in: ${formatSeconds(dateDiff)}`;
		}

		document.getElementById(`ingame`).innerHTML= timeString;
		document.getElementById(`daynight`).innerHTML= `${dayNightString} (${getNightTime(dayNighttime)})`;
		document.getElementById(`daily`).innerHTML= dailyString;
		document.getElementById(`bartering`).innerHTML= barteringString;
		document.getElementById(`blackspirit`).innerHTML= blackspiritString;
		
	}, 1000);

	/*TEST Data
	data position note
	object	object		array		object
	weekDay	spawnTime	bossArray	bossTable
	for(var d in bossTable) {
		for(var t in bossTable[d]) {
			for(var b in bossTable[d][t]) {
				for(var p in bossTable[d][t][b]) {
					console.log(`${d} ${t} ${bossTable[d][t][b]["img"]}`)
					console.log(`${d} ${t} ${bossTable[d][t][b]["name"]}`)
					console.log(`${d} ${t} ${bossTable[d][t][b]["type"]}`)
				}
			}
		}
	
	}*/
</script>
</html>